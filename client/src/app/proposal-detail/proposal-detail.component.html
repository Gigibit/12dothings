<ion-header>
  <ion-toolbar>
    <ion-button (click)="location.back()">
      <ion-icon name="ios-arrow-back"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content padding *ngIf="proposal">
  
  <h1>{{proposal.title}}</h1>
  <ion-label>{{proposal.description}}</ion-label>
  
  <div class="partecipants-list-container">
    <div class="partecipants-list" *ngIf="participants && participants.length > 0">
      <h3 class="partecipants-list-title">partecipants</h3>
      <div *ngFor="let user of participants">
        <app-user-avatar class="partecipant-avatar" [userInfo]="user"></app-user-avatar>
        {{user.name}}
      </div>
    </div>
  </div>
</ion-content>

<ion-footer>
  <div [ngSwitch]="state">
    <ion-button *ngSwitchCase="'NOT_REQUESTED'" (click)="join()" fill="clear" expand="full"  >ask for join!</ion-button>
    <ion-button *ngSwitchCase="'PENDING'" [disabled]="true" fill="clear" expand="full"  >request pending, stay tuned!</ion-button>    
    <ion-button *ngSwitchCase="'DENIED'" [disabled]="true" fill="clear" expand="full"  >request pending, stay tuned!</ion-button>    
    <ion-button *ngSwitchCase="'APPROVED'" [disabled]="true" fill="clear" expand="full"  >request approved!</ion-button>    
  </div>
</ion-footer>